<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form BKColor="user0" Height="360" Id="frmcust2022PPosResultCard" Left="8" OnKeyDown="Form_OnKeyDown" OnLoadCompleted="Form_OnLoadCompleted" OnUnloadCompleted="Form_OnUnloadCompleted" PidAttrib="7" Style="sty_Form" Title="카드&#32;결제&#32;처리결과" Top="8" Ver="1.0" Width="400" WorkArea="true">
		<Shape Bottom="216" Height="204" Id="shpGubunBox1" Left="4" LineColor="user15" Right="396" TabOrder="19" Top="12" Type="Rectangle" Width="392"></Shape>
		<Static Align="Center" Height="20" Id="lbPersonNm" Left="8" Style="sty_Label" TabOrder="13" Text="구매자" Top="52" VAlign="Middle" Width="88"></Static>
		<Static Align="Center" Height="20" Id="lbOrderNo" Left="8" Style="sty_Label" TabOrder="14" Text="주문번호" Top="100" VAlign="Middle" Width="88"></Static>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edOrderNo" ImeMode="native" Left="100" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="4" Top="100" UserData="S" Width="292"></Edit>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edPersonNm" ImeMode="native" Left="100" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="2" Top="52" UserData="S" Width="292"></Edit>
		<Static Align="Center" Height="20" Id="lbAmount" Left="8" Style="sty_Label" TabOrder="15" Text="금액" Top="192" VAlign="Middle" Width="88"></Static>
		<Static Align="Center" Height="20" Id="lbSunapGubun1" Left="8" Style="sty_Label" TabOrder="16" Text="납부방법" Top="124" VAlign="Middle" Width="88"></Static>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edSunapGubun" ImeMode="native" Left="100" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="5" Top="124" UserData="S" Width="292"></Edit>
		<MaskEdit AutoSelect="TRUE" AutoSkip="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="medAmount" Left="100" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Style="sty_Maskedit" TabOrder="10" Top="192" UserData="S" Width="72"></MaskEdit>
		<Button BKColor="user17" ButtonStyle="TRUE" Cursor="HAND" Enable="FALSE" Font="굴림,10,Bold" Height="28" Id="btnSetlmt" Left="76" OnClick="btnSetlmt_OnClick" Style="sty_Button" TabOrder="12" Text="결제&#32;재시도" Top="328" Width="116"></Button>
		<Static Align="Center" Height="20" Id="lbProductInfo" Left="8" Style="sty_Label" TabOrder="17" Text="상품정보" Top="76" VAlign="Middle" Width="88"></Static>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edProductInfo" ImeMode="native" Left="100" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="3" Top="76" UserData="S" Width="292"></Edit>
		<Static Align="Center" Height="20" Id="lbSetlmtGubun" Left="8" Style="sty_Label" TabOrder="18" Text="수납구분" Top="28" VAlign="Middle" Width="88"></Static>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edSetlmtGubun" ImeMode="native" Left="100" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="1" Top="28" UserData="S" Width="72"></Edit>
		<Static Align="Center" Height="20" Id="lbRepay" Left="20" Style="sty_LabelGruopBox" TabOrder="20" Text="결제정보" Top="4" VAlign="Middle" Width="100"></Static>
		<Static Height="20" Id="lbCard" Left="100" Style="sty_Text" TabOrder="6" Text="▶&#32;신용카드번호&#32;:" Top="148" VAlign="Middle" Width="108"></Static>
		<Static Height="20" Id="lbInstallment" Left="100" Style="sty_Text" TabOrder="8" Text="▶&#32;할부개월수&#32;:" Top="168" VAlign="Middle" Width="116"></Static>
		<Static Height="20" Id="lbInstallmentCnt" Left="196" Style="sty_Text" TabOrder="9" Top="168" VAlign="Middle" Width="96"></Static>
		<Static Height="20" Id="lbCardNo" Left="208" Style="sty_Text" TabOrder="7" Top="148" VAlign="Middle" Width="188"></Static>
		<Static Height="20" Id="lbResultMsg" Left="12" Style="sty_TextRed" TabOrder="11" Text="※&#32;결과&#32;메세지" Top="304" VAlign="Middle" Width="384"></Static>
		<Shape Bottom="300" Height="72" Id="shpGubunBox2" Left="4" LineColor="user15" Right="396" TabOrder="25" Top="228" Type="Rectangle" Width="392"></Shape>
		<Static Align="Center" Height="20" Id="lbResultLgd" Left="12" Style="sty_Label" TabOrder="23" Text="데이콤" Top="272" VAlign="Middle" Width="88"></Static>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edResultLgd" ImeMode="native" Left="104" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="22" Top="272" UserData="S" Width="208"></Edit>
		<Edit AutoSelect="TRUE" Border="Flat" Enable="FALSE" Height="20" Id="edResultKems" ImeMode="native" Left="104" LeftMargin="2" OnFocus="gfn_ComponentOnFocus" OnKeyDown="gfn_EnterNextFocus" OnKillFocus="gfn_ComponentOnKillFocus" Readonly="TRUE" Style="sty_Edit" TabOrder="21" Top="248" UserData="S" Width="208"></Edit>
		<Static Align="Center" Height="20" Id="lbResultKems" Left="12" Style="sty_Label" TabOrder="24" Text="안전원" Top="248" VAlign="Middle" Width="88"></Static>
		<Static Align="Center" Height="20" Id="lbResult" Left="20" Style="sty_LabelGruopBox" TabOrder="26" Text="처리결과" Top="220" VAlign="Middle" Width="100"></Static>
		<Static Height="20" Id="lbResultKemsText" Left="316" Style="sty_Text" TabOrder="27" Text="(단위시스템)" Top="249" VAlign="Middle" Width="76"></Static>
		<Static Height="20" Id="lbResultLgdText" Left="316" Style="sty_Text" TabOrder="28" Text="(실시간조회)" Top="273" VAlign="Middle" Width="76"></Static>
		<Button BKColor="user17" ButtonStyle="TRUE" Cursor="HAND" Font="굴림,10,Bold" Height="28" Id="btnEnd" Left="208" OnClick="lfn_End" Style="sty_Button" TabOrder="29" Text="결제&#32;완료" Top="328" Width="116"></Button>
	</Form>
	<Script><![CDATA[/*
 * 프로그램명 : frmcust2022PPosResultCard.xml
 * 설명 : 카드 결제 처리결과
 * 작성일 : 2009.12.08
 * 작성자 : 김동현
 */

#include "LIB::COMMON.js"; // 공통 관련

/* 공통 필수 시작 */
function Form_OnLoadCompleted(obj) {
    gfn_Form_OnLoadCompleted(obj); // 공통 폼 로딩 이벤트 처리

    gfn_SearchPosResult(sPmYear, sPmMgno, gds_oPosResult);

    edSetlmtGubun.Text = gds_oPosResult.GetColumn(0, "SUNAPGUBUN");
    edPersonNm.Text = gds_oPosResult.GetColumn(0, "BUYER");
    edProductInfo.Text = gds_oPosResult.GetColumn(0, "PGMNM");
    edOrderNo.Text = gds_oPosResult.GetColumn(0, "JUMUNNO");
    edSunapGubun.Text = gds_oPosResult.GetColumn(0, "PAYMENT");
    medAmount.Value = sAmount;
    lbCardNo.Text = gds_oPosResult.GetColumn(0, "CARDNO"); // 카드번호
    lbInstallmentCnt.Text = gds_oPosResult.GetColumn(0, "CARDINSTALL"); // 할부개월수
    lbResultMsg.Text = sPosMsg;
    edResultLgd.Text = sLgdMsg;
    edResultKems.Text = sKemsMsg;

    if (sTransYn == "Y") {
        btnSetlmt.Enable = true;
        btnEnd.Text = "종료";
    }
}

function Form_OnUnloadCompleted(obj) {
    if (sTransYn == "Y") {
        Close("FAIL");
    } else {
        Close("OK");
    }
}

function Form_OnKeyDown(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam) {
    switch (nChar) {
        case 27 : // 종료(Esc)
            lfn_End();
            break;
    }
}

/*
 * 기능 : 종료
 */
function lfn_End(obj) {
    if (sTransYn == "Y") {
        Close("FAIL");
    } else {
        Close("OK");
    }
}

/* 사용자 이벤트 함수 */
function btnSetlmt_OnClick(obj) {
	Close("RETRANS");
}
]]></Script>
</Window>